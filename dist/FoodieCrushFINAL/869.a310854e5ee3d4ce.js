"use strict";(self.webpackChunkFoodieCrushFINAL=self.webpackChunkFoodieCrushFINAL||[]).push([[869],{4869:(U,f,s)=>{s.r(f),s.d(f,{RecipesModule:()=>x});var u=s(6895),m=s(1948),t=s(8274);const h=function(){return["/recipes/categories",1]},e=function(){return["/recipes/categories",2]},T=function(){return["/recipes/categories",3]},v=function(){return["/recipes/categories",4]},R=function(){return["/recipes/categories",5]},r=function(){return["/recipes/categories",6]},a=[{path:"",component:(()=>{class c{constructor(){}ngOnInit(){}}return c.\u0275fac=function(_){return new(_||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-recipes"]],decls:71,vars:12,consts:[[1,"row","p-1","my-3","justify-content-center"],["aria-label","breadcrumb"],[1,"breadcrumb"],["aria-current","page",1,"breadcrumb-item","active"],[1,"text-center","mb-2"],[1,"row","m-3"],[1,"col-md-4","col-lg-4","col-xl-4","col-sm-6","col-xs-12","mt-2"],[1,"card","text-center","h-100"],["src","assets/img/pasta.jpg","data-bs-toggle","tooltip","title","Imagen de distintos tipos de pasta cruda sobre una mesa y una cuchara de madera",1,"card-img-top"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","colorGreenP",3,"routerLink"],["src","assets/img/rice.jpg","data-bs-toggle","tooltip","title","Imagen de arroz crudo sobre tres cucharas de madera.",1,"card-img-top"],["src","assets/img/carne.jpg","data-bs-toggle","tooltip","title","Chulet\xf3n de cerdo sobre tabla de madera y rodeada de romero, ajo, sal y pimienta.","alt","Chulet\xf3n de cerdo sobre tabla de madera y rodeada de romero, ajo, sal y pimienta.",1,"card-img-top"],["src","assets/img/fish.jpg","data-bs-toggle","tooltip","title","Pescados crudos sobre hielo","alt","Pescados crudos sobre hielo",1,"card-img-top"],["src","assets/img/postres.jpg","alt","Logo Bootstrap",1,"card-img-top"],["src","assets/img/otros.jpg","alt","Logo Bootstrap",1,"card-img-top"]],template:function(_,y){1&_&&(t.TgZ(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3),t._uU(4,"RECETARIO"),t.qZA()()(),t.TgZ(5,"div",4)(6,"h4"),t._uU(7," Aqu\xed tienes las distintas categor\xedas culinarias que tenemos en FoodieCrush. "),t._UZ(8,"br"),t._uU(9,"Tan solo tienes que entrar en la que m\xe1s te interese. "),t.qZA()()(),t.TgZ(10,"div",5)(11,"div",6)(12,"div",7),t._UZ(13,"img",8),t.TgZ(14,"div",9)(15,"h5",10),t._uU(16,"Pastas"),t.qZA(),t.TgZ(17,"p",11),t._uU(18,"\xbfAmante de la pasta en todas sus versiones?"),t.qZA(),t.TgZ(19,"a",12),t._uU(20,"Ver m\xe1s"),t.qZA()()()(),t.TgZ(21,"div",6)(22,"div",7),t._UZ(23,"img",13),t.TgZ(24,"div",9)(25,"h5",10),t._uU(26,"Arroces"),t.qZA(),t.TgZ(27,"p",11),t._uU(28,"\xbfCu\xe1ntas formas de preparlo conoces?"),t.qZA(),t.TgZ(29,"a",12),t._uU(30,"Ver m\xe1s"),t.qZA()()()(),t.TgZ(31,"div",6)(32,"div",7),t._UZ(33,"img",14),t.TgZ(34,"div",9)(35,"h5",10),t._uU(36,"Carnes"),t.qZA(),t.TgZ(37,"p",11),t._uU(38,"\xbfLechu... qu\xe9? Carn\xedvoro por encima de todo."),t.qZA(),t.TgZ(39,"a",12),t._uU(40,"Ver m\xe1s"),t.qZA()()()(),t.TgZ(41,"div",6)(42,"div",7),t._UZ(43,"img",15),t.TgZ(44,"div",9)(45,"h5",10),t._uU(46,"Pescados"),t.qZA(),t.TgZ(47,"p",11),t._uU(48,"Del mar a la mesa. Y no solo a la plancha."),t.qZA(),t.TgZ(49,"a",12),t._uU(50,"Ver m\xe1s"),t.qZA()()()(),t.TgZ(51,"div",6)(52,"div",7),t._UZ(53,"img",16),t.TgZ(54,"div",9)(55,"h5",10),t._uU(56,"Postres"),t.qZA(),t.TgZ(57,"p",11),t._uU(58,"\xbfQui\xe9n se resiste a endulzar el paladar?"),t.qZA(),t.TgZ(59,"a",12),t._uU(60,"Ver m\xe1s"),t.qZA()()()(),t.TgZ(61,"div",6)(62,"div",7),t._UZ(63,"img",17),t.TgZ(64,"div",9)(65,"h5",10),t._uU(66,"Otros"),t.qZA(),t.TgZ(67,"p",11),t._uU(68,"Entrantes, salsas, un variadito por aqu\xed."),t.qZA(),t.TgZ(69,"a",12),t._uU(70,"Ver m\xe1s"),t.qZA()()()()()),2&_&&(t.xp6(19),t.Q6J("routerLink",t.DdM(6,h)),t.xp6(10),t.Q6J("routerLink",t.DdM(7,e)),t.xp6(10),t.Q6J("routerLink",t.DdM(8,T)),t.xp6(10),t.Q6J("routerLink",t.DdM(9,v)),t.xp6(10),t.Q6J("routerLink",t.DdM(10,R)),t.xp6(10),t.Q6J("routerLink",t.DdM(11,r)))},dependencies:[m.yS]}),c})()},{path:"details",loadChildren:()=>Promise.resolve().then(s.bind(s,3008)).then(c=>c.ShowDetailsRecipeModule)},{path:"uploadFileRecipe",loadChildren:()=>Promise.resolve().then(s.bind(s,8860)).then(c=>c.UploadRecipeFileModule)},{path:"categories",loadChildren:()=>s.e(12).then(s.bind(s,2012)).then(c=>c.ShowCategoriesModule)}];let d=(()=>{class c{}return c.\u0275fac=function(_){return new(_||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[m.Bz.forChild(a),m.Bz]}),c})();var g=s(4466),b=s(3008);let x=(()=>{class c{}return c.\u0275fac=function(_){return new(_||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[u.ez,d,g.m,b.ShowDetailsRecipeModule]}),c})()},3008:(U,f,s)=>{s.r(f),s.d(f,{ShowDetailsRecipeModule:()=>M});var u=s(6895),m=s(1948),t=s(5226),h=s.n(t),e=s(8274),T=s(5800),v=s(162),R=s(8827),r=s(433);function n(o,p){1&o&&(e.TgZ(0,"div",17),e._UZ(1,"img",18),e.qZA())}function a(o,p){if(1&o&&(e.TgZ(0,"div",17),e._UZ(1,"img",19),e.qZA()),2&o){const i=e.oxw(3);e.xp6(1),e.s9C("src",i.img,e.LSH),e.s9C("alt",i.recipe.recipeName)}}function d(o,p){if(1&o&&(e.TgZ(0,"div",11)(1,"div",12),e.YNc(2,n,2,0,"div",13),e.YNc(3,a,2,2,"div",13),e.TgZ(4,"div",14)(5,"div",15)(6,"p",16)(7,"strong"),e._uU(8,"Nombre:"),e.qZA(),e._uU(9),e.qZA(),e.TgZ(10,"p",16)(11,"strong"),e._uU(12,"Categor\xeda:"),e.qZA(),e._uU(13),e.qZA(),e.TgZ(14,"p",16)(15,"strong"),e._uU(16,"Fecha de publicaci\xf3n:"),e.qZA(),e._uU(17),e.qZA(),e.TgZ(18,"p",16)(19,"strong"),e._uU(20,"Publicada por:"),e.qZA(),e._uU(21),e.qZA()()()()()),2&o){const i=e.oxw(2);e.xp6(2),e.Q6J("ngIf",null==i.recipe.file),e.xp6(1),e.Q6J("ngIf",null!=i.recipe.file),e.xp6(6),e.hij(" ",i.recipe.recipeName.toUpperCase()," "),e.xp6(4),e.hij(" ",i.recipe.category.name.toUpperCase()," "),e.xp6(4),e.hij(" ",i.recipe.fechaBonita," "),e.xp6(4),e.hij(" ",i.user.username," ")}}function g(o,p){if(1&o&&(e.TgZ(0,"ul",35)(1,"li"),e._uU(2),e.qZA()()),2&o){const i=p.$implicit;e.xp6(2),e.AsE(" ",i.amount," GRAMOS DE ",i.ingredient.name.toUpperCase()," ")}}function b(o,p){if(1&o&&(e.TgZ(0,"ul",35)(1,"li"),e._uU(2),e.qZA()()),2&o){const i=p.$implicit,l=p.index;e.xp6(2),e.AsE("",l+1,". ",i.step.toUpperCase(),"")}}function x(o,p){if(1&o&&(e.TgZ(0,"ul",35)(1,"label",36),e._uU(2),e.qZA(),e.TgZ(3,"li"),e._uU(4),e.qZA()()),2&o){const i=p.$implicit;e.xp6(2),e.AsE("Comentado por: ",i.username,", el ",i.fechaBonita,":"),e.xp6(2),e.hij(" ",i.message," ")}}function c(o,p){if(1&o&&(e.TgZ(0,"div",35),e.YNc(1,x,5,3,"ul",28),e.qZA()),2&o){const i=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",i.comments)}}function C(o,p){1&o&&(e.TgZ(0,"div",37)(1,"p"),e._uU(2,"\xa1Vaya! Esta receta a\xfan no tiene comentarios."),e.qZA()())}function _(o,p){if(1&o){const i=e.EpF();e.TgZ(0,"div")(1,"label"),e._uU(2,"\xbfQuieres comentar algo sobre esta receta? Hazlo aqu\xed "),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"textarea",38),e.NdJ("ngModelChange",function(Z){e.CHM(i);const A=e.oxw(3);return e.KtG(A.texto=Z)}),e.qZA(),e._UZ(5,"br"),e.TgZ(6,"button",39),e.NdJ("click",function(){e.CHM(i);const Z=e.oxw(3);return e.KtG(Z.addComment(Z.recipe.id))}),e._uU(7," ENVIAR "),e.qZA()()}if(2&o){const i=e.oxw(3);e.xp6(4),e.Q6J("ngModel",i.texto)}}function y(o,p){if(1&o){const i=e.EpF();e.TgZ(0,"div")(1,"div",40)(2,"p")(3,"i"),e._uU(4,"\xbfQuieres publicar un comentario en esta receta?"),e.qZA()(),e.TgZ(5,"p",41),e.NdJ("click",function(){e.CHM(i);const Z=e.oxw(3);return e.KtG(Z.saveIDtoComment())}),e._uU(6," Haz click "),e.TgZ(7,"b")(8,"u"),e._uU(9,"AQU\xcd"),e.qZA()(),e._uU(10," para iniciar sesi\xf3n. "),e.qZA()()()}}function S(o,p){if(1&o){const i=e.EpF();e.TgZ(0,"div",20)(1,"ul",21)(2,"li",22)(3,"button",23),e._uU(4," Ingredientes "),e.qZA()(),e.TgZ(5,"li",22)(6,"button",24),e._uU(7," Elaboraci\xf3n "),e.qZA()(),e.TgZ(8,"li",22)(9,"button",25),e._uU(10," Comentarios "),e.qZA()()(),e.TgZ(11,"div",26)(12,"div",27),e.YNc(13,g,3,2,"ul",28),e.qZA(),e.TgZ(14,"div",29),e.YNc(15,b,3,2,"ul",28),e.qZA(),e.TgZ(16,"div",30),e.YNc(17,c,2,1,"div",31),e.YNc(18,C,3,0,"div",32),e._UZ(19,"hr"),e.YNc(20,_,8,1,"div",0),e.YNc(21,y,11,0,"div",0),e.qZA(),e.TgZ(22,"div",1)(23,"div",33)(24,"button",34),e.NdJ("click",function(){e.CHM(i);const Z=e.oxw(2);return e.KtG(Z.back())}),e._uU(25,"VOLVER"),e.qZA()()()()()}if(2&o){const i=e.oxw(2);e.xp6(13),e.Q6J("ngForOf",i.recipe.ingredientLine),e.xp6(2),e.Q6J("ngForOf",i.recipe.method),e.xp6(2),e.Q6J("ngIf",i.showComments),e.xp6(1),e.Q6J("ngIf",!i.showComments||null==i.comments),e.xp6(2),e.Q6J("ngIf",null!=i.showPostComment()),e.xp6(1),e.Q6J("ngIf",null===i.showPostComment())}}const D=function(o){return[o]};function B(o,p){if(1&o&&(e.TgZ(0,"div")(1,"div",1)(2,"nav",2)(3,"ol",3)(4,"li",4)(5,"a",5),e._uU(6,"RECETARIO"),e.qZA()(),e.TgZ(7,"li",6)(8,"a",7),e._uU(9),e.qZA()(),e.TgZ(10,"li",8),e._uU(11),e.qZA()()()(),e.YNc(12,d,22,6,"div",9),e.YNc(13,S,26,6,"div",10),e.qZA()),2&o){const i=e.oxw();e.xp6(8),e.Q6J("routerLink",e.VKq(5,D,"/recipes/categories/"+i.recipe.category.id)),e.xp6(1),e.Oqu(i.recipe.category.name.toUpperCase()),e.xp6(2),e.hij(" ",i.recipe.recipeName.toUpperCase()," "),e.xp6(1),e.Q6J("ngIf",null!=i.recipe&&null!=i.user),e.xp6(1),e.Q6J("ngIf",null!=i.recipe)}}const E=[{path:":id",component:(()=>{class o{constructor(i,l,Z,A,I){this.activeRoute=i,this.recipeService=l,this.fileService=Z,this.accessService=A,this.router=I,this.id=0,this.ruta="",this.img="",this.mostrar=!1,this.showComments=!1,this.texto="",this.commentRecipe={message:""}}ngOnInit(){this.showRecipeDetails()}showRecipeDetails(){this.recipeService.showRecipe(this.activeRoute.snapshot.params.id).subscribe({next:i=>{this.getUserByRecipe(i.id),this.getFileByRecipe(i.id),this.getCommentsFromRecipe(i.id),this.recipe=i,this.mostrar=!0,localStorage.removeItem("cIDr")},error:i=>{h().fire("Error",i.error.mensaje,"error")}})}getUserByRecipe(i){this.recipeService.getUserByRecipe(i).subscribe({next:l=>{this.user=l},error:l=>{h().fire("Error",l.error.mensaje,"error")}})}getFileByRecipe(i){this.fileService.getFileByRecipeID(i).subscribe({next:l=>{null!=l&&(this.img=this.recipeService.getImage(l))},error:l=>{h().fire("Error",l.error.mensaje,"error")}})}getCommentsFromRecipe(i){this.recipeService.getCommentsNotPendingFromRecipe(i).subscribe({next:l=>{this.comments=l,this.showComments=!0},error:l=>{h().fire("Error",l.error.mensaje,"error")}})}addComment(i){this.commentRecipe.message=this.texto,this.recipeService.addCommentToRecipe(i,this.commentRecipe).subscribe({next:l=>{h().fire({title:"Comentario publicado",text:"Su comentario se ha publicado con \xe9xito. Estar\xe1 visible cuando el administrador lo confirme.",icon:"success",confirmButtonText:"Aceptar"}),this.texto=""},error:l=>{h().fire("Error",l.error.mensaje,"error")}})}back(){history.back()}showPostComment(){return this.accessService.getToken()}saveIDtoComment(){localStorage.setItem("cIDr",this.activeRoute.snapshot.params.id),this.router.navigateByUrl("/login")}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(m.gz),e.Y36(T.v),e.Y36(v.J),e.Y36(R.v),e.Y36(m.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-show-details-recipe"]],inputs:{id:"id"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"row","p-1","my-3","justify-content-center"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/recipes"],[1,"breadcrumb-item","active"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],["class","card mb-3 mt-4 mx-auto border-0 text-center colorPinkP","style","width: 70%",4,"ngIf"],["class","container mt-4 col-lg-12 col-md-12 col-sm-12 col-xs-12",4,"ngIf"],[1,"card","mb-3","mt-4","mx-auto","border-0","text-center","colorPinkP",2,"width","70%"],[1,"row","g-0"],["class","col-md-5",4,"ngIf"],[1,"col-md-7","my-auto"],[1,"card-body","px-auto"],[1,"card-text"],[1,"col-md-5"],["src","assets/img/logo.svg","alt","Imagen no encontrada",1,"img-fluid","img-responsive","h-100"],[1,"img-fluid","img-responsive","h-100",3,"src","alt"],[1,"container","mt-4","col-lg-12","col-md-12","col-sm-12","col-xs-12"],["id","myTab","role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["id","home-tab","data-bs-toggle","tab","data-bs-target","#ingredientes","type","button","role","tab","aria-controls","home","aria-selected","true",1,"nav-link"],["id","profile-tab","data-bs-toggle","tab","data-bs-target","#elaboracion","type","button","role","tab","aria-controls","profile","aria-selected","true",1,"nav-link"],["id","home-tab","data-bs-toggle","tab","data-bs-target","#comentarios","type","button","role","tab","aria-controls","home","aria-selected","true",1,"nav-link"],["id","myTabContent",1,"tab-content"],["id","ingredientes","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade","show","active"],["class","mt-3",4,"ngFor","ngForOf"],["id","elaboracion","role","tabpanel","aria-labelledby","profile-tab",1,"tab-pane","fade"],["id","comentarios","role","tabpanel","aria-labelledby","profile-tab",1,"tab-pane","fade"],["class","mt-3",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[1,"text-center","mb-2"],[1,"btn","colorPurpleP",3,"click"],[1,"mt-3"],["for",""],[1,"text-center","mt-3"],[1,"m-2",3,"ngModel","ngModelChange"],[1,"btn","colorGreenP",3,"click"],[1,"card","text-center"],[3,"click"]],template:function(i,l){1&i&&e.YNc(0,B,14,7,"div",0),2&i&&e.Q6J("ngIf",1==l.mostrar)},dependencies:[u.sg,u.O5,m.yS,r.Fj,r.JJ,r.On]}),o})()}];let w=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.Bz.forChild(E),m.Bz]}),o})();var F=s(4466);let M=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[u.ez,w,F.m,r.u5]}),o})()},5800:(U,f,s)=>{s.d(f,{v:()=>T});var u=s(529),m=s(2340),t=s(8274),h=s(1948),e=s(8827);let T=(()=>{class v{constructor(r,n,a){this.httpClient=r,this.router=n,this.accessService=a,this.urlBase=m.N.urlBase}publicar(r){let n=this.accessService.getToken();const a=`${this.urlBase}/recipes`,d=r,g=new u.WM({"Content-Type":"application/json",Authorization:`Bearer ${n}`});return this.httpClient.post(a,d,{headers:g})}getRecipesFromUser(r){let n=this.accessService.getToken();const a=(new u.LE).set("userID",r.id),d=new u.WM({"Content-Type":"application/json",Authorization:`Bearer ${n}`});return this.httpClient.get(`${this.urlBase}/recipes?${a}`,{headers:d})}getRecipesByCategory(r){const n=(new u.LE).set("categoryID",r);return this.httpClient.get(`${this.urlBase}/mostrar?${n}`)}showRecipe(r){return this.httpClient.get(`${this.urlBase}/mostrar/${r}`)}getUserByRecipe(r){return this.httpClient.get(`${this.urlBase}/mostrar/recipe/${r}`)}getCategory(r){return this.httpClient.get(`${this.urlBase}/category/${r}`)}getImage(r){return`data:image/png;base64,${btoa(String.fromCharCode(...new Uint8Array(r.data)))}`+r.data}getAllRecipes(){let r=this.accessService.getToken();const n=new u.WM({"Content-Type":"application/json",Authorization:`Bearer ${r}`});return this.httpClient.get(`${this.urlBase}/recipes`,{headers:n})}deleteRecipe(r){let n=this.accessService.getToken();const a=new u.WM({"Content-Type":"application/json",Authorization:`Bearer ${n}`});return this.httpClient.delete(`${this.urlBase}/recipes/${r}`,{headers:a})}editRecipe(r,n){let a=this.accessService.getToken();const d=new u.WM({"Content-Type":"application/json",Authorization:`Bearer ${a}`});return this.httpClient.put(`${this.urlBase}/recipes/${r}`,n,{headers:d})}addCommentToRecipe(r,n){let a=this.accessService.getToken();const d=new u.WM({"Content-Type":"application/json",Authorization:`Bearer ${a}`});return this.httpClient.post(`${this.urlBase}/recipes/${r}/comments`,n,{headers:d})}getCommentsNotPendingFromRecipe(r){return this.httpClient.get(`${this.urlBase}/mostrar/recipe/${r}/comments`)}deleteComment(r){let n=this.accessService.getToken();const a=new u.WM({"Content-Type":"application/json",Authorization:`Bearer ${n}`});return this.httpClient.delete(`${this.urlBase}/recipes/comments/${r}`,{headers:a})}getRecipeByName(r){const n=(new u.LE).set("recipeName",r);return this.httpClient.get(`${this.urlBase}/mostrar/recipes/name?${n}`)}getRecipeBySimilarName(r){const n=(new u.LE).set("recipeName",r);return this.httpClient.get(`${this.urlBase}/mostrar/recipes/similar?${n}`)}getRecipesFromIngredients(r){let n=new u.LE;return n=n.append("ingredientList",r),this.httpClient.get(`${this.urlBase}/mostrar/recipes/ingredients`,{params:n})}getIngredientsFromBD(){return this.httpClient.get(`${this.urlBase}/mostrar/ingredients`)}}return v.\u0275fac=function(r){return new(r||v)(t.LFG(u.eN),t.LFG(h.F0),t.LFG(e.v))},v.\u0275prov=t.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()}}]);