"use strict";(self.webpackChunkFoodieCrushFINAL=self.webpackChunkFoodieCrushFINAL||[]).push([[577],{4577:(N,v,a)=>{a.r(v),a.d(v,{SearchByNameModule:()=>M});var p=a(6895),d=a(1948),h=a(5226),_=a.n(h),e=a(8274),f=a(5800),m=a(433),C=a(4984);function i(t,s){1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-spinner"),e.qZA())}function r(t,s){1&t&&(e.TgZ(0,"div"),e._UZ(1,"img",25),e.qZA())}function o(t,s){if(1&t&&(e.TgZ(0,"div"),e._UZ(1,"img",26),e.qZA()),2&t){const n=e.oxw().$implicit,c=e.oxw(3);e.xp6(1),e.s9C("src",c.obtenerImagenReceta(n.file),e.LSH),e.s9C("alt",n.recipeName)}}function l(t,s){if(1&t&&(e.TgZ(0,"h5",27),e._uU(1),e.qZA()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.hij(" ",n.recipeName.toUpperCase()," ")}}function u(t,s){if(1&t&&(e.TgZ(0,"h5",28),e._uU(1),e.qZA()),2&t){const n=e.oxw().$implicit;e.s9C("title",n.recipeName.toUpperCase()),e.xp6(1),e.hij(" ",n.recipeName.toUpperCase().substr(0,20)+" ..."," ")}}const g=function(t){return["/recipes/details",t]};function B(t,s){if(1&t&&(e.TgZ(0,"div",18)(1,"div",19),e.YNc(2,r,2,0,"div",6),e.YNc(3,o,2,2,"div",6),e.TgZ(4,"div",20),e.YNc(5,l,2,1,"h5",21),e.YNc(6,u,2,2,"h5",22),e.qZA(),e.TgZ(7,"div",23)(8,"a",24),e._uU(9,"Ver m\xe1s"),e.qZA()()()()),2&t){const n=s.$implicit;e.xp6(2),e.Q6J("ngIf",null==n.file),e.xp6(1),e.Q6J("ngIf",null!=n.file),e.xp6(2),e.Q6J("ngIf",n.recipeName.length<=25),e.xp6(1),e.Q6J("ngIf",n.recipeName.length>25),e.xp6(2),e.Q6J("routerLink",e.VKq(5,g,n.id))}}function T(t,s){if(1&t&&(e.TgZ(0,"div",15)(1,"p"),e._uU(2," Estas son las recetas con nombre: "),e.TgZ(3,"b"),e._uU(4),e.qZA()(),e.TgZ(5,"div",16),e.YNc(6,B,10,7,"div",17),e.qZA()()),2&t){const n=e.oxw(2);e.xp6(4),e.Oqu(n.nameInput.toUpperCase()),e.xp6(2),e.Q6J("ngForOf",n.recipes1)}}function y(t,s){1&t&&(e.TgZ(0,"div"),e._UZ(1,"img",25),e.qZA())}function Z(t,s){if(1&t&&(e.TgZ(0,"div"),e._UZ(1,"img",26),e.qZA()),2&t){const n=e.oxw().$implicit,c=e.oxw(3);e.xp6(1),e.s9C("src",c.obtenerImagenReceta(n.file),e.LSH),e.s9C("alt",n.recipeName)}}function x(t,s){if(1&t&&(e.TgZ(0,"h5",27),e._uU(1),e.qZA()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.hij(" ",n.recipeName.toUpperCase()," ")}}function S(t,s){if(1&t&&(e.TgZ(0,"h5",28),e._uU(1),e.qZA()),2&t){const n=e.oxw().$implicit;e.s9C("title",n.recipeName.toUpperCase()),e.xp6(1),e.hij(" ",n.recipeName.toUpperCase().substr(0,20)+" ..."," ")}}function A(t,s){if(1&t&&(e.TgZ(0,"div",18)(1,"div",29),e.YNc(2,y,2,0,"div",6),e.YNc(3,Z,2,2,"div",6),e.TgZ(4,"div",20),e.YNc(5,x,2,1,"h5",21),e.YNc(6,S,2,2,"h5",22),e.qZA(),e.TgZ(7,"div",23)(8,"a",24),e._uU(9,"Ver m\xe1s"),e.qZA()()()()),2&t){const n=s.$implicit;e.xp6(2),e.Q6J("ngIf",null==n.file),e.xp6(1),e.Q6J("ngIf",null!=n.file),e.xp6(2),e.Q6J("ngIf",n.recipeName.length<=25),e.xp6(1),e.Q6J("ngIf",n.recipeName.length>25),e.xp6(2),e.Q6J("routerLink",e.VKq(5,g,n.id))}}function U(t,s){if(1&t&&(e.TgZ(0,"div",15)(1,"p"),e._uU(2," \xa1Vaya! No tenemos ninguna receta con nombre exacto: "),e.TgZ(3,"b"),e._uU(4),e.qZA()(),e.TgZ(5,"p"),e._uU(6,"Pero quiz\xe1s lo que buscas est\xe9 por aqu\xed:"),e.qZA(),e.TgZ(7,"div",16),e.YNc(8,A,10,7,"div",17),e.qZA()()),2&t){const n=e.oxw(2);e.xp6(4),e.Oqu(n.nameInput.toUpperCase()),e.xp6(4),e.Q6J("ngForOf",n.recipes2)}}function I(t,s){if(1&t&&(e.TgZ(0,"div",30)(1,"p"),e._uU(2," \xa1Vaya! No tenemos ninguna receta que coincida con el nombre: "),e.TgZ(3,"b"),e._uU(4),e.qZA()(),e._UZ(5,"img",31),e.qZA()),2&t){const n=e.oxw(2);e.xp6(4),e.Oqu(n.name.toUpperCase())}}function $(t,s){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,T,7,2,"div",13),e.YNc(2,U,9,2,"div",13),e.YNc(3,I,6,1,"div",14),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",null!=n.recipes1),e.xp6(1),e.Q6J("ngIf",null!=n.recipes2&&null==n.recipes1),e.xp6(1),e.Q6J("ngIf",null==n.recipes2&&null==n.recipes1)}}const b=[{path:"",component:(()=>{class t{constructor(n,c){this.recipeService=n,this.router=c,this.nameInput="",this.show=!1,this.recipes1=[],this.recipes2=[]}ngOnInit(){let n=localStorage.getItem("busqueda");null!=n&&this.getRecipe(n)}getRecipe(n){this.pending=!0,null!=n?(this.show=!0,this.recipeService.getRecipeByName(n).subscribe({next:c=>{this.recipes1=c,this.nameInput=n,this.pending=!1,localStorage.setItem("busqueda",this.nameInput)},error:c=>{_().fire("Error",c.error.mensaje,"error"),this.pending=!1}}),this.recipeService.getRecipeBySimilarName(n).subscribe({next:c=>{this.recipes2=c,this.pending=!1},error:c=>{_().fire("Error",c.error.mensaje,"error"),this.pending=!1}})):(this.pending=!1,_().fire("Error","Recuerda introducir un nombre.","error"))}obtenerImagenReceta(n){return this.recipeService.getImage(n)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.v),e.Y36(d.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-search-by-name"]],decls:21,vars:3,consts:[[1,"row","p-1","my-3","justify-content-center"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/search"],["aria-current","page",1,"breadcrumb-item","active"],[4,"ngIf"],[1,"row","m-3"],[1,"col","text-center"],["type","text","placeholder","Nombre","name","nombre","aria-required","true",3,"ngModel","ngModelChange"],[1,"btn","colorGreenP","m-1",3,"click"],[1,"text-center","mb-2"],["routerLink","/search",1,"btn","colorPurpleP"],["class","m-4",4,"ngIf"],["class","m-4 text-center",4,"ngIf"],[1,"m-4"],[1,"row","row-cols-1","row-cols-sm-3","row-cols-lg-4","justify-content-center","my-2"],["class","col mb-2",4,"ngFor","ngForOf"],[1,"col","mb-2"],[1,"card","text-center","h-100"],[1,"card-body"],["class","card-title",4,"ngIf"],["class","card-title","data-bs-toggle","tooltip",3,"title",4,"ngIf"],[1,"card-footer"],[1,"btn","colorGreenP",3,"routerLink"],["src","assets/img/logo.svg","id","fileNotFound","alt","Imagen no encontrada",1,"card-img-top"],[1,"card-img-top","pic",3,"src","alt"],[1,"card-title"],["data-bs-toggle","tooltip",1,"card-title",3,"title"],[1,"card","text-center","mt-2","h-100"],[1,"m-4","text-center"],["src","assets/img/404-error.png","alt","No se encuentran resultados","id","notFound"]],template:function(n,c){1&n&&(e.TgZ(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),e._uU(5,"BUSCADOR"),e.qZA()(),e.TgZ(6,"li",5),e._uU(7," BUSCAR RECETA POR NOMBRE "),e.qZA()()()(),e.YNc(8,i,2,0,"div",6),e.TgZ(9,"div",7)(10,"div",8)(11,"p"),e._uU(12,"Escribe aqu\xed abajo el nombre de la receta que est\xe1s buscando:"),e.qZA(),e.TgZ(13,"input",9),e.NdJ("ngModelChange",function(O){return c.name=O}),e.qZA(),e.TgZ(14,"button",10),e.NdJ("click",function(){return c.getRecipe(c.name)}),e._uU(15," BUSCAR "),e.qZA()()(),e.YNc(16,$,4,3,"div",6),e.TgZ(17,"div",0)(18,"div",11)(19,"button",12),e._uU(20," VOLVER AL BUSCADOR "),e.qZA()()()),2&n&&(e.xp6(8),e.Q6J("ngIf",c.pending),e.xp6(5),e.Q6J("ngModel",c.name),e.xp6(3),e.Q6J("ngIf",c.show))},dependencies:[p.sg,p.O5,d.rH,d.yS,m.Fj,m.JJ,m.On,C.O],styles:["#fileNotFound[_ngcontent-%COMP%]{width:30%}.pic[_ngcontent-%COMP%]{height:15em}"]}),t})()}];let R=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.Bz.forChild(b),d.Bz]}),t})();var E=a(4466);let M=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.ez,R,m.u5,E.m]}),t})()},5800:(N,v,a)=>{a.d(v,{v:()=>f});var p=a(529),d=a(2340),h=a(8274),_=a(1948),e=a(8827);let f=(()=>{class m{constructor(i,r,o){this.httpClient=i,this.router=r,this.accessService=o,this.urlBase=d.N.urlBase}publicar(i){let r=this.accessService.getToken();const o=`${this.urlBase}/recipes`,l=i,u=new p.WM({"Content-Type":"application/json",Authorization:`Bearer ${r}`});return this.httpClient.post(o,l,{headers:u})}getRecipesFromUser(i){let r=this.accessService.getToken();const o=(new p.LE).set("userID",i.id),l=new p.WM({"Content-Type":"application/json",Authorization:`Bearer ${r}`});return this.httpClient.get(`${this.urlBase}/recipes?${o}`,{headers:l})}getRecipesByCategory(i){const r=(new p.LE).set("categoryID",i);return this.httpClient.get(`${this.urlBase}/mostrar?${r}`)}showRecipe(i){return this.httpClient.get(`${this.urlBase}/mostrar/${i}`)}getUserByRecipe(i){return this.httpClient.get(`${this.urlBase}/mostrar/recipe/${i}`)}getCategory(i){return this.httpClient.get(`${this.urlBase}/category/${i}`)}getImage(i){return`data:image/png;base64,${btoa(String.fromCharCode(...new Uint8Array(i.data)))}`+i.data}getAllRecipes(){let i=this.accessService.getToken();const r=new p.WM({"Content-Type":"application/json",Authorization:`Bearer ${i}`});return this.httpClient.get(`${this.urlBase}/recipes`,{headers:r})}deleteRecipe(i){let r=this.accessService.getToken();const o=new p.WM({"Content-Type":"application/json",Authorization:`Bearer ${r}`});return this.httpClient.delete(`${this.urlBase}/recipes/${i}`,{headers:o})}editRecipe(i,r){let o=this.accessService.getToken();const l=new p.WM({"Content-Type":"application/json",Authorization:`Bearer ${o}`});return this.httpClient.put(`${this.urlBase}/recipes/${i}`,r,{headers:l})}addCommentToRecipe(i,r){let o=this.accessService.getToken();const l=new p.WM({"Content-Type":"application/json",Authorization:`Bearer ${o}`});return this.httpClient.post(`${this.urlBase}/recipes/${i}/comments`,r,{headers:l})}getCommentsNotPendingFromRecipe(i){return this.httpClient.get(`${this.urlBase}/mostrar/recipe/${i}/comments`)}deleteComment(i){let r=this.accessService.getToken();const o=new p.WM({"Content-Type":"application/json",Authorization:`Bearer ${r}`});return this.httpClient.delete(`${this.urlBase}/recipes/comments/${i}`,{headers:o})}getRecipeByName(i){const r=(new p.LE).set("recipeName",i);return this.httpClient.get(`${this.urlBase}/mostrar/recipes/name?${r}`)}getRecipeBySimilarName(i){const r=(new p.LE).set("recipeName",i);return this.httpClient.get(`${this.urlBase}/mostrar/recipes/similar?${r}`)}getRecipesFromIngredients(i){let r=new p.LE;return r=r.append("ingredientList",i),this.httpClient.get(`${this.urlBase}/mostrar/recipes/ingredients`,{params:r})}getIngredientsFromBD(){return this.httpClient.get(`${this.urlBase}/mostrar/ingredients`)}}return m.\u0275fac=function(i){return new(i||m)(h.LFG(p.eN),h.LFG(_.F0),h.LFG(e.v))},m.\u0275prov=h.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()}}]);