"use strict";(self.webpackChunkFoodieCrushFINAL=self.webpackChunkFoodieCrushFINAL||[]).push([[225],{7225:(B,d,r)=>{r.r(d),r.d(d,{UsersConfModule:()=>E});var c=r(6895),a=r(1948),p=r(5226),i=r.n(p),e=r(8274),m=r(7501),f=r(4984),u=r(7318),g=r(805);function U(t,o){1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-spinner"),e.qZA())}function v(t,o){1&t&&(e.TgZ(0,"p"),e._uU(1," \xa1Vaya! Todav\xeda no tenemos usuarios registrados en Foodie Crush. "),e.qZA())}function _(t,o){1&t&&(e.TgZ(0,"p"),e._uU(1," De momento nuestro Foodie Crush blog solo tiene un \xfanico usuario. "),e.qZA())}function C(t,o){if(1&t&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&t){const n=e.oxw(4);e.xp6(1),e.hij(" Nuestro Foodie Crush blog cuenta ya con un total de ",n.users.length," usuarios registrados. ")}}function Z(t,o){1&t&&(e.TgZ(0,"tr")(1,"th",13),e._uU(2," ID "),e._UZ(3,"p-sortIcon",14),e.qZA(),e.TgZ(4,"th",15),e._uU(5," NOMBRE "),e._UZ(6,"p-sortIcon",16),e.qZA(),e.TgZ(7,"th",17),e._uU(8," USUARIO "),e._UZ(9,"p-sortIcon",18),e.qZA(),e.TgZ(10,"th",19),e._uU(11," EMAIL "),e._UZ(12,"p-sortIcon",20),e.qZA(),e.TgZ(13,"th",21),e._uU(14," ROLE "),e._UZ(15,"p-sortIcon",22),e.qZA(),e.TgZ(16,"th",23),e._uU(17," ALTA EN EL SISTEMA "),e._UZ(18,"p-sortIcon",24),e.qZA(),e.TgZ(19,"th",25),e._uU(20,"ELIMINAR"),e.qZA()())}function A(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"tr",26)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"button",27),e.NdJ("click",function(){const M=e.CHM(n).$implicit,O=e.oxw(4);return e.KtG(O.deleteUser(M.id))}),e._UZ(15,"i",28),e.qZA()()()}if(2&t){const n=o.$implicit;e.xp6(2),e.Oqu(n.id),e.xp6(2),e.Oqu(n.fullName),e.xp6(2),e.Oqu(n.username),e.xp6(2),e.Oqu(n.email),e.xp6(2),e.Oqu(n.role),e.xp6(2),e.Oqu(n.fechaBonita)}}const T=function(){return[10,25,50]};function h(t,o){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,_,2,0,"p",6),e.YNc(2,C,2,1,"p",6),e.TgZ(3,"p-table",10),e.YNc(4,Z,21,0,"ng-template",11),e.YNc(5,A,16,6,"ng-template",12),e.qZA()()),2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",1==n.users.length),e.xp6(1),e.Q6J("ngIf",n.users.length>1),e.xp6(1),e.Q6J("value",n.users)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(7,T))}}function x(t,o){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,h,6,8,"div",6),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.users.length>=1)}}function b(t,o){if(1&t&&(e.TgZ(0,"div")(1,"div",9),e.YNc(2,v,2,0,"p",6),e.YNc(3,x,2,1,"div",6),e.qZA()()),2&t){const n=e.oxw();e.xp6(2),e.Q6J("ngIf",null==n.users),e.xp6(1),e.Q6J("ngIf",null!=n.users)}}const I=[{path:"",component:(()=>{class t{constructor(n){this.adminService=n,this.users=[],this.pending=!0}ngOnInit(){this.getAllUsers()}getAllUsers(){this.adminService.getAllUsersFromBD().subscribe({next:n=>{this.users=n,this.pending=!1},error:n=>{i().fire("Error",n.error.mensaje,"error")}})}deleteUser(n){i().fire({title:"Eliminaci\xf3n de Usuario",text:"A continuaci\xf3n vas a eliminar a este usuario del sistema. \xbfSeguro que deseas hacerlo?",icon:"warning",showDenyButton:!0,confirmButtonText:"S\xed, quiero eliminar a este usuario.",denyButtonText:"No."}).then(s=>{s.isConfirmed?this.adminService.deleteUser(n).subscribe({next:l=>{this.getAllUsers(),null==l&&i().fire({title:"Usuario eliminado",text:"El usuario con id  "+n+" ha sido eliminado de nuestro sistema.",icon:"success",confirmButtonText:"Aceptar"})},error:l=>{i().fire("Error",l.error.mensaje,"error")}}):s.isDenied&&i().fire("Usuario no eliminado","Este usuario sigue registrado en nuestro sistema.","info")})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(m.l))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-users-conf"]],decls:14,vars:2,consts:[[1,"row","p-1","my-3","justify-content-center"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/optionsADMIN"],["aria-current","page",1,"breadcrumb-item","active"],[4,"ngIf"],[1,"text-center","mb-2"],["routerLink","/optionsADMIN",1,"btn","colorPurpleP"],[1,"p-3","text-center","my-3"],["styleClass","p-datatable-striped","responsiveLayout","scroll","currentPageReportTemplate","Mostrando {first} de {last} de un total de {totalRecords} entradas",3,"value","paginator","rows","showCurrentPageReport","rowsPerPageOptions"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","id",1,"encab"],["field","id"],["pSortableColumn","fullname",1,"encab"],["field","fullname"],["pSortableColumn","username",1,"encab"],["field","username"],["pSortableColumn","email",1,"encab"],["field","email"],["pSortableColumn","role",1,"encab"],["field","role"],["pSortableColumn","fechaBonita",1,"encab"],["field","fechaBonita"],[1,"encab"],[1,"text-center"],[1,"btn","colorPurpleP",3,"click"],["aria-hidden","true",1,"fa","fa-trash"]],template:function(n,s){1&n&&(e.TgZ(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),e._uU(5,"GESTI\xd3N"),e.qZA()(),e.TgZ(6,"li",5),e._uU(7,"USUARIOS"),e.qZA()()()(),e.YNc(8,U,2,0,"div",6),e.YNc(9,b,4,2,"div",6),e.TgZ(10,"div",0)(11,"div",7)(12,"button",8),e._uU(13,"VOLVER"),e.qZA()()()),2&n&&(e.xp6(8),e.Q6J("ngIf",s.pending),e.xp6(1),e.Q6J("ngIf",!s.pending))},dependencies:[c.O5,a.rH,a.yS,f.O,u.iA,g.jx,u.lQ,u.fz]}),t})()}];let N=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[a.Bz.forChild(I),a.Bz]}),t})();var S=r(5593),q=r(1997),y=r(4466);let E=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.ez,N,y.m,u.U$,S.hJ,q.U]}),t})()}}]);