"use strict";(self.webpackChunkFoodieCrushFINAL=self.webpackChunkFoodieCrushFINAL||[]).push([[645],{6645:(B,u,o)=>{o.r(u),o.d(u,{PendingRecipesModule:()=>D});var g=o(6895),p=o(1948),m=o(5226),c=o.n(m),e=o(8274),_=o(5800),f=o(7501),l=o(7318),v=o(805),Z=o(4984);function h(t,i){1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-spinner"),e.qZA())}function x(t,i){1&t&&(e.TgZ(0,"div")(1,"p"),e._uU(2,"\xa1Buen trabajo no hay ninguna receta pendiente de aprobar!"),e.qZA()())}function P(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1," Solo existe 1 receta que todav\xeda no has aprobado y por lo tanto no se muestra en el Foodie recetario. Tenemos trabajo por hacer, \xa1adelante! "),e.qZA())}function R(t,i){if(1&t&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&t){const n=e.oxw(4);e.xp6(1),e.hij(" Existen un total de ",n.recipesPending.length," recetas que todav\xeda no has aprobado y por lo tanto no se muestran en el Foodie recetario. Tenemos trabajo por hacer, \xa1adelante! ")}}function T(t,i){1&t&&(e.TgZ(0,"tr",15)(1,"th",16),e._uU(2," ID "),e._UZ(3,"p-sortIcon",17),e.qZA(),e.TgZ(4,"th",18),e._uU(5," NOMBRE "),e._UZ(6,"p-sortIcon",19),e.qZA(),e.TgZ(7,"th",20),e._uU(8," CATEGOR\xcdA "),e._UZ(9,"p-sortIcon",21),e.qZA(),e.TgZ(10,"th",22),e._uU(11," FECHA PUBLICACI\xd3N "),e._UZ(12,"p-sortIcon",23),e.qZA(),e.TgZ(13,"th",24),e._uU(14,"VER"),e.qZA(),e.TgZ(15,"th",24),e._uU(16,"APROBAR"),e.qZA(),e.TgZ(17,"th",24),e._uU(18,"ELIMINAR"),e.qZA()())}const C=function(t){return["/optionsADMIN/recipesConf/recipeDetail","pending",t]};function A(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"tr",25)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"button",26),e.NdJ("click",function(){const s=e.CHM(n).$implicit,d=e.oxw(4);return e.KtG(d.setID(s.id))}),e._UZ(11,"i",27),e.qZA()(),e.TgZ(12,"td")(13,"button",28),e.NdJ("click",function(){const s=e.CHM(n).$implicit,d=e.oxw(4);return e.KtG(d.changeStatusRecipe(s.id))}),e._UZ(14,"i",29),e.qZA()(),e.TgZ(15,"td")(16,"button",30),e.NdJ("click",function(){const s=e.CHM(n).$implicit,d=e.oxw(4);return e.KtG(d.deleteRecipe(s.id))}),e._UZ(17,"i",31),e.qZA()()()}if(2&t){const n=i.$implicit;e.xp6(2),e.Oqu(n.id),e.xp6(2),e.Oqu(n.recipeName),e.xp6(2),e.Oqu(n.category.name),e.xp6(2),e.Oqu(n.fechaBonita),e.xp6(2),e.Q6J("routerLink",e.VKq(5,C,n.id))}}const b=function(){return[10,25,50]};function I(t,i){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,P,2,0,"p",8),e.YNc(2,R,2,1,"p",8),e.TgZ(3,"p-table",12),e.YNc(4,T,19,0,"ng-template",13),e.YNc(5,A,18,7,"ng-template",14),e.qZA()()),2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",1==n.recipesPending.length),e.xp6(1),e.Q6J("ngIf",n.recipesPending.length>1),e.xp6(1),e.Q6J("value",n.recipesPending)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(7,b))}}function U(t,i){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,I,6,8,"div",8),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.recipesPending.length>=1)}}function N(t,i){if(1&t&&(e.TgZ(0,"div")(1,"div",11),e.YNc(2,x,3,0,"div",8),e.YNc(3,U,2,1,"div",8),e.qZA()()),2&t){const n=e.oxw();e.xp6(2),e.Q6J("ngIf",null==n.recipesPending),e.xp6(1),e.Q6J("ngIf",null!=n.recipesPending)}}const S=[{path:"",component:(()=>{class t{constructor(n,r){this.recipesService=n,this.adminService=r,this.first=0,this.rows=10,this.recipesPending=[],this.pending=!0}ngOnInit(){this.getRecipesPending()}getRecipesPending(){this.adminService.getRecipesPending().subscribe({next:n=>{this.recipesPending=n,this.pending=!1},error:n=>{c().fire("Error",n.error.mensaje,"error")}})}changeStatusRecipe(n){this.adminService.changeStatusRecipe(n).subscribe({next:r=>{this.getRecipesPending(),c().fire({title:"Cambio de Estado Satisfactorio",text:"La receta con id  "+r.id+" ha sido aprobada.",icon:"success",confirmButtonText:"Aceptar"})},error:r=>{c().fire("Error",r.error.mensaje,"error")}})}deleteRecipe(n){c().fire({title:"Eliminaci\xf3n de receta",text:"A continuaci\xf3n vas a eliminar esta receta del Foodie recetario. \xbfSeguro que deseas eliminar esta receta?",icon:"warning",showDenyButton:!0,confirmButtonText:"S\xed, quiero borrar la receta.",denyButtonText:"No."}).then(r=>{r.isConfirmed?this.recipesService.deleteRecipe(n).subscribe({next:a=>{this.getRecipesPending(),null==a&&c().fire({title:"Receta Eliminada",text:"La receta con id  "+n+" ha sido eliminada del Foodie recetario.",icon:"success",confirmButtonText:"Aceptar"})},error:a=>{c().fire("Error",a.error.mensaje,"error")}}):r.isDenied&&c().fire("Receta no eliminada","Esta receta sigue disponible en el Foodie Recetario.","info")})}setID(n){localStorage.setItem("id",n)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(_.v),e.Y36(f.l))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-pending-recipes"]],decls:17,vars:2,consts:[[1,"row","p-1","my-3","justify-content-center"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/optionsADMIN"],[1,"breadcrumb-item","active"],["routerLink","/optionsADMIN/recipesConf"],["aria-current","page",1,"breadcrumb-item","active"],[4,"ngIf"],[1,"text-center","mb-2"],["routerLink","/optionsADMIN/recipesConf",1,"btn","colorPurpleP"],[1,"p-3","text-center","my-3"],["styleClass","p-datatable-striped","responsiveLayout","scroll","currentPageReportTemplate","Mostrando {first} de {last} de un total de {totalRecords} entradas",3,"value","paginator","rows","showCurrentPageReport","rowsPerPageOptions"],["pTemplate","header"],["pTemplate","body"],[1,"colorGreenP","text-center"],["pSortableColumn","id",1,"encab"],["field","id"],["pSortableColumn","recipeName",1,"encab"],["field","recipeName"],["pSortableColumn","category.name",1,"encab"],["field","category.name"],["pSortableColumn","fechaBonita",1,"encab"],["field","fechaBonita"],[1,"encab"],[1,"text-center"],[1,"btn","colorYellowP",3,"routerLink","click"],[1,"fa","fa-search"],[1,"btn","colorPinkP",3,"click"],[1,"fas","fa-check-circle"],[1,"btn","colorPurpleP",3,"click"],["aria-hidden","true",1,"fa","fa-trash"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),e._uU(5,"GESTI\xd3N"),e.qZA()(),e.TgZ(6,"li",5)(7,"a",6),e._uU(8," RECETAS "),e.qZA()(),e.TgZ(9,"li",7),e._uU(10,"PENDIENTES"),e.qZA()()()(),e.YNc(11,h,2,0,"div",8),e.YNc(12,N,4,2,"div",8),e.TgZ(13,"div",0)(14,"div",9)(15,"button",10),e._uU(16," ATR\xc1S "),e.qZA()()()),2&n&&(e.xp6(11),e.Q6J("ngIf",r.pending),e.xp6(1),e.Q6J("ngIf",!r.pending))},dependencies:[g.O5,p.rH,p.yS,l.iA,v.jx,l.lQ,l.fz,Z.O]}),t})()}];let E=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.Bz.forChild(S),p.Bz]}),t})();var y=o(5593),q=o(1997),M=o(4466);let D=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.ez,E,l.U$,y.hJ,q.U,M.m]}),t})()}}]);