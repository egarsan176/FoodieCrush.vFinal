<div
  class="row p-1 my-3 justify-content-center"
  *ngIf="user != null && recetario != null"
>
  <div class="text-center mb-2">
    <h4>
      {{ user.fullName }}, aquí tienes todas las recetas que has publicado
    </h4>
  </div>
</div>
<div class="container">
  <div *ngIf="recetario != null">
    <p-table
      [value]="recetario"
      [paginator]="true"
      [rows]="10"
      [showCurrentPageReport]="true"
      styleClass="p-datatable-striped"
      responsiveLayout="scroll"
      currentPageReportTemplate="Mostrando {first} de {last} de un total de {totalRecords} entradas"
      [rowsPerPageOptions]="[10, 25, 50]"
    >
      <ng-template pTemplate="header" let-columns>
        <tr class="colorGreenP text-center">
          <th pSortableColumn="id">
            ORDEN <p-sortIcon field="id"></p-sortIcon>
          </th>
          <th pSortableColumn="recipeName">
            NOMBRE <p-sortIcon field="recipeName"></p-sortIcon>
          </th>
          <th pSortableColumn="category.name">
            CATEGORÍA <p-sortIcon field="category.name"></p-sortIcon>
          </th>
          <th pSortableColumn="fechaBonita">
            FECHA PUBLICACIÓN <p-sortIcon field="fechaBonita"></p-sortIcon>
          </th>
          <th pSortableColumn="pending">
            ESTADO <p-sortIcon field="pending"></p-sortIcon>
          </th>
          <th>VER</th>
          <th>EDITAR</th>
          <th>BORRAR</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-recipe let-columns="recipe">
        <tr class="text-center">
          <td>{{ recipe.id }}</td>
          <td>{{ recipe.recipeName }}</td>
          <td>{{ recipe.category.name }}</td>
          <td>{{ recipe.fechaBonita }}</td>
          <td pSortableColumn="pending">{{ getStatus(recipe) }}</td>
          <td>
            <button
              class="btn colorYellowP"
              [routerLink]="['/recipes/details', recipe.id]"
            >
              <i class="fa fa-search"></i>
            </button>
          </td>
          <td>
            <button
              class="btn colorPinkP"
              [routerLink]="['/recipes/details', recipe.id]"
            >
              <i class="fas fa-edit"></i>
            </button>
          </td>
          <td>
            <button
              class="btn colorPurpleP"
              [routerLink]="['/recipes/details', recipe.id]"
            >
              <i class="fa fa-trash" aria-hidden="true"></i>
            </button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>

  <div
    *ngIf="recetario == null && user != null"
    class="justify-content-center text-center mt-3"
  >
    <img
      src="assets/img/404-error.png"
      alt="No se encuentran resultados"
      id="notFound"
    />
    <h4>
      Upss {{ user.fullName }}, todavía no has publicado ninguna receta.<br />¿Vamos?
    </h4>
  </div>
</div>

<div class="row p-1 my-3 justify-content-center">
  <div class="text-center mb-2">
    <!-- PARA GESTIONAR QUE EL VOLVER SEA DIFERENTE DEPENDIENDO DE LA RUTA QUE SE HAYA SEGUIDO PARA LLEGAR HASTA AQUÍ -->
    <button class="btn colorPurpleP" (click)="back()">VOLVER</button>
  </div>
</div>
